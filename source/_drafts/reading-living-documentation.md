---
title: 讀書心得與筆記 - 高品質軟體文件 Live Documentation
tags:
  - reading
  - book
  - notes
  - Living Documentation
---

## Chapter 1 - 重新思考文件

### 傳統文件製作的問題

一、文件製作的缺陷
1. 活動分離：每個活動都在操作相同的知識，因為形式不同、製作物不同(或有重複)，「相同」的知識會在過程中演進而導致不一致。
2. 抄錄：用另一種文件的形式寫出程式碼已經做過的事情。
3. 重複的知識：抄錄後，修改一個製作物(例如程式碼)，很難記得要跟著改其他文件。
4. 浪費時間：比寫程式、任務自動化無聊，開發者寫文件時會希望做點有意義的事；矛盾的是，使用第三方套件時又會希望有更多的文件。
5. 想到什麼寫什麼：寫文件很務聊且不得不寫，通常是隨便寫而沒有深思熟慮。結果就是想到什麼寫什麼，這樣對任何人都沒幫助。
6. 美化圖表：(看不懂)
7. 執迷於記號法：UML 越來越不流行，很多團隊無論是否適合都還在用 UML 製作文件。
8. 沒有記號法：與執迷記號法的反方越來越多，許多人完全忽略 UML ，用別人看不懂的自定記號法畫圖表，並隨意混合如建制相依性、資料流程、部署考量等。
9. 資訊墳場：知識死在企業知識管理解決方案，通常都因為很難找到正確資訊或很難更新，因為他們偏好 write-only 或 write-once 的文件製作方式。
10. 誤導：未能嚴格更新會誤導，看起來有用但其實是錯的。需要額外花時間分辨什麼是對的與錯的，就已經不對了。
11. 現在還有別的更重要的事情：寫文件需要䅰多時間，維護甚至需要更多時間。有時間壓力的人經常會略過文件工作或隨便做。

二、敏捷宣言與文件製作
敏捷宣言由一些軟體從業者在 2001 年寫下，其中列出的價值觀有：
1. 個人與互動 重於 流程與工具
2. 可用的軟體 重於 詳盡的文件
3. 與客戶合作 重於 合約協商
4. 回應變化 重於 遵循計畫

**可用的軟體 重於 詳盡的文件** 常被誤解，被人誤以為屏棄文件。


三、是時候開始文件 2.0
清潔程式(clean code?)、測試驅動開發(TDD)、行為驅動開發(BDD)、領域驅動設計(DDD)、持續交付等實踐越來越受歡迎，因而改變交付軟體的方法。

1. TDD：規範測試先行。
2. DDD：識別業務領域的程式碼與模型設計，打破傳統的模型與程式碼分離。這樣就能預期程式碼可以「說出」領域的完整故事。
3. BDD：透過工具支援，借用業務語言讓它更白話。

[文學程式設計](https://zh.wikipedia.org/zh-tw/%E6%96%87%E5%AD%A6%E7%BC%96%E7%A8%8B)或 [HyperCard](https://zh.wikipedia.org/zh-tw/HyperCard) 等舊的想法，雖然沒成為主流，但它們還是慢慢睇產生影響，特別是帶進舊想法的 [F#](https://fsharp.org/) 與 [Clojure](https://clojure.org/index)。


### 文件關乎知識

1. 軟體開發關乎知識與根據知識做決定，然後建立更多知識。
2. 建構(build) 很便宜，但設計階段才有成本。
3. 軟體設計會持續很長時間，長到足以忘記前面的決策與其脈絡、人們離開而將知識帶走、新加入缺少知識的人。知識是軟體開發等設計活動的核心。
4. 團隊合作意味著一起做決策或根據他人的知識做決策。
5. 寫出讓電腦懂的原始碼不難，讓其他人也能懂、藉以讓他們做得更好更快才困難。

一、知識的起源
1. 知識主要來自於 **對話** ，透過與其他人對話產生知識。(pair programming, meeting, grab a coffee, phone call, group discussion, email discussion; such as BDD specification work shop and [agile three amigos](https://www.agilealliance.org/glossary/three-amigos/#q=~%28infinite~false~filters~%28postType~%28~%27page~%27post~%27aa_book~%27aa_event_session~%27aa_experience_report~%27aa_glossary~%27aa_research_paper~%27aa_video%29~tags~%28~%27three%2A20amigos%29%29~searchTerm~%27~sort~false~sortDirection~%27asc~page~1%29))
2. 與機器對話稱為 **實驗** ，用程式語言告訴機器，機器執行後回覆一些事情(測試成功或失敗、UI 如預期動作、結果不如預期)，從中獲取新知識。(TDD, emerging design, Lean Startup)
3. 知識也來自對背景的 **觀察** ，在公司上班從而觀察他人的交談、行為、情緒中學到很多東西。(領域沈浸 domain immersion, 告示牆痴迷 obsession walls, 資訊輻射器 information radiator, 精益創業的「走出建築物」)

綜合以上：「知識來自觀察人，以及在可觀察的背景下，以機器進行實驗」

二、知識如何演進？
1. 有些知識長期穩定、有些變化很快
2. 任何一種文件都須考慮維護成本要盡可能接近 0 
3. 需要文件功能，但軟體產業的加速效應讓我們來不計一頁一頁寫文件

三、為什麼需要知識
遺失現有軟體在過去發展出的知識時，只好重新製作，因為不知道以前有什麼。我們也不知道功能與元件的關係，因為我們不知道原來是怎樣，兒原來是怎樣，而某個功能的程式碼也四散在各種元件中。

最好是有知識能夠回答下列常見問題：
1. 這個問題要改哪裡？
2. 這個功能要放在哪裡？
3. 原作者會改哪裡？
4. 刪除這一行看起來沒用的程式碼安全嗎？
5. 我想要改參數，會有什麼影響？
6. 是否只能夠靠逆向工程來理解它是如何運作的？
7. 是否只能靠逐行讀程式碼才能知道目前的業務規則？
8. 客戶要求新功能時要如何知道是否已經寫好了？
9. 我們已經盡可能把程式改好了，但是否對它的認識還不夠完整？
10. 如何快速找到處理特定功能的程式段？

缺少知識會造成兩項成本
1. 浪費時間：這個時間可以用來改善其他部分
2. 次佳決策：決策還能更好，或者長期來看更便宜

以上兩項成本會隨著時間複合：花時間找遺失知識就 **佔用** 做出更好的決策的時間，然後次佳決策會讓日子更辛苦，直到不得不另起爐灶為止。

### 文件製作關乎轉移知識

文件製作有很多意義：寫文件、 Microsoft Word 或 PowerPoint 文件、根據公司範本寫的文件、印出來的文件、網站或 WiKi 。本書採用的定義：

> 轉移有價值的知識給現在和未來其他人的程序